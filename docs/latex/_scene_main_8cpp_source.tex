\doxysection{Scene\+Main.\+cpp}
\hypertarget{_scene_main_8cpp_source}{}\label{_scene_main_8cpp_source}\index{Scene/SceneMain.cpp@{Scene/SceneMain.cpp}}
\mbox{\hyperlink{_scene_main_8cpp}{\mbox{[}詳解\mbox{]}}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{_scene_main_8cpp_source_l00001}00001\ }
\DoxyCodeLine{\Hypertarget{_scene_main_8cpp_source_l00003}00003\ }
\DoxyCodeLine{\Hypertarget{_scene_main_8cpp_source_l00004}00004\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_scene_main_8h}{SceneMain.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_scene_main_8cpp_source_l00005}00005\ \textcolor{preprocessor}{\#include\ "{}../Menu/MenuNextFloor.h"{}}}
\DoxyCodeLine{\Hypertarget{_scene_main_8cpp_source_l00006}00006\ }
\DoxyCodeLine{\Hypertarget{_scene_main_8cpp_source_l00007}00007\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacemagica__rogue}{magica\_rogue}}}
\DoxyCodeLine{\Hypertarget{_scene_main_8cpp_source_l00008}00008\ \{}
\DoxyCodeLine{\Hypertarget{_scene_main_8cpp_source_l00009}00009\ \textcolor{comment}{\ \ \ \ /**********************************************************************/}\textcolor{comment}{/***********************************************************************/}}
\DoxyCodeLine{\Hypertarget{_scene_main_8cpp_source_l00014}\mbox{\hyperlink{classmagica__rogue_1_1_m_r_scene_main_a9d3a167694858018f7c655ac45b0ee5c}{00014}}\ \ \ \ \ \mbox{\hyperlink{classmagica__rogue_1_1_m_r_scene_main_a9d3a167694858018f7c655ac45b0ee5c}{MRSceneMain::MRSceneMain}}(\mbox{\hyperlink{classmagica__rogue_1_1_m_r_scene_manager}{MRSceneManager}}*\ sceneManager)\ :m\_floor(0),\ \mbox{\hyperlink{classmagica__rogue_1_1_m_r_scene_interface}{MRSceneInterface}}(sceneManager),\ \mbox{\hyperlink{classmagica__rogue_1_1_m_r_menu_manager}{MRMenuManager}}(m\_eventQueue),}
\DoxyCodeLine{\Hypertarget{_scene_main_8cpp_source_l00015}00015\ \ \ \ \ \ \ \ \ m\_camera(0,0),\ m\_mapData(),\ }
\DoxyCodeLine{\Hypertarget{_scene_main_8cpp_source_l00016}00016\ \ \ \ \ \ \ \ \ m\_player(\mbox{\hyperlink{classmagica__rogue_1_1_m_r_player}{MRPlayer}}::PLAYER\_ID::KOMUK,\ m\_mapData.GetStartX(),\ m\_mapData.GetStartY(),\ m\_camera)}
\DoxyCodeLine{\Hypertarget{_scene_main_8cpp_source_l00017}00017\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_scene_main_8cpp_source_l00018}00018\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classmagica__rogue_1_1_m_r_scene_main_a163000e8c13e23ee730c577016c21587}{\_GenerateMap}}();}
\DoxyCodeLine{\Hypertarget{_scene_main_8cpp_source_l00019}00019\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_scene_main_8cpp_source_l00020}00020\ }
\DoxyCodeLine{\Hypertarget{_scene_main_8cpp_source_l00021}00021\ \textcolor{comment}{\ \ \ \ /**********************************************************************/}\textcolor{comment}{/***********************************************************************/}}
\DoxyCodeLine{\Hypertarget{_scene_main_8cpp_source_l00026}\mbox{\hyperlink{classmagica__rogue_1_1_m_r_scene_main_a1b8b076274d023942edb0d0205af27e9}{00026}}\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classmagica__rogue_1_1_m_r_scene_main_a1b8b076274d023942edb0d0205af27e9}{MRSceneMain::Update}}()}
\DoxyCodeLine{\Hypertarget{_scene_main_8cpp_source_l00027}00027\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_scene_main_8cpp_source_l00028}00028\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structmagica__rogue_1_1_m_r_event_queue_1_1event_data}{MREventQueue::eventData}}\ ev\ =\ \{\};}
\DoxyCodeLine{\Hypertarget{_scene_main_8cpp_source_l00029}00029\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (1)}
\DoxyCodeLine{\Hypertarget{_scene_main_8cpp_source_l00030}00030\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_scene_main_8cpp_source_l00031}00031\ \ \ \ \ \ \ \ \ \ \ \ \ ev\ =\ \mbox{\hyperlink{classmagica__rogue_1_1_m_r_scene_main_a8ceffe79cff92aa44ba9efa1462b600d}{m\_eventQueue}}.\mbox{\hyperlink{classmagica__rogue_1_1_m_r_event_queue_a6b20526a6e4599ab4d149c613a324392}{GetTop}}();}
\DoxyCodeLine{\Hypertarget{_scene_main_8cpp_source_l00032}00032\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (ev.\mbox{\hyperlink{structmagica__rogue_1_1_m_r_event_queue_1_1event_data_acbfd12398b1fcca4b5c9df4acb480570}{evnetId}}\ ==\ \mbox{\hyperlink{classmagica__rogue_1_1_m_r_event_queue_ae5b88c44c0fa1546aeea555bfb6a8ebcab50339a10e1de285ac99d4c3990b8693}{MREventQueue::EVENT\_ID::NONE}})\ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{_scene_main_8cpp_source_l00033}00033\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classmagica__rogue_1_1_m_r_scene_main_a8ceffe79cff92aa44ba9efa1462b600d}{m\_eventQueue}}.\mbox{\hyperlink{classmagica__rogue_1_1_m_r_event_queue_a4ea35ee9310bc6fc99d9e554240b84d3}{Pop}}();}
\DoxyCodeLine{\Hypertarget{_scene_main_8cpp_source_l00034}00034\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (ev.\mbox{\hyperlink{structmagica__rogue_1_1_m_r_event_queue_1_1event_data_acbfd12398b1fcca4b5c9df4acb480570}{evnetId}}\ ==\ \mbox{\hyperlink{classmagica__rogue_1_1_m_r_event_queue_ae5b88c44c0fa1546aeea555bfb6a8ebcad90df0eec61c71839301b314931fa828}{MREventQueue::EVENT\_ID::SELECT\_GOTO\_NEXT\_FLOOR}})}
\DoxyCodeLine{\Hypertarget{_scene_main_8cpp_source_l00035}00035\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_scene_main_8cpp_source_l00036}00036\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classmagica__rogue_1_1_m_r_menu_manager_a98ce654b1aff7c0aaea4fcc90438cd61}{Push}}(std::make\_unique<MRMenuNextFloor>(\mbox{\hyperlink{classmagica__rogue_1_1_m_r_scene_main_a8ceffe79cff92aa44ba9efa1462b600d}{m\_eventQueue}}));}
\DoxyCodeLine{\Hypertarget{_scene_main_8cpp_source_l00037}00037\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_scene_main_8cpp_source_l00038}00038\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (ev.\mbox{\hyperlink{structmagica__rogue_1_1_m_r_event_queue_1_1event_data_acbfd12398b1fcca4b5c9df4acb480570}{evnetId}}\ ==\ \mbox{\hyperlink{classmagica__rogue_1_1_m_r_event_queue_ae5b88c44c0fa1546aeea555bfb6a8ebcaecff2ed2d5ad2ed57c8e4dce0113e067}{MREventQueue::EVENT\_ID::GOTO\_NEXT\_FLOOR}})}
\DoxyCodeLine{\Hypertarget{_scene_main_8cpp_source_l00039}00039\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_scene_main_8cpp_source_l00040}00040\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classmagica__rogue_1_1_m_r_scene_main_a8ceffe79cff92aa44ba9efa1462b600d}{m\_eventQueue}}.\mbox{\hyperlink{classmagica__rogue_1_1_m_r_event_queue_a3942eab5b5aacded698574fc122f0726}{Reset}}();}
\DoxyCodeLine{\Hypertarget{_scene_main_8cpp_source_l00041}00041\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ++\mbox{\hyperlink{classmagica__rogue_1_1_m_r_scene_main_a7882f95e646d7a8339d0e3ffd8f5d0f0}{m\_floor}};}
\DoxyCodeLine{\Hypertarget{_scene_main_8cpp_source_l00042}00042\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classmagica__rogue_1_1_m_r_scene_main_a163000e8c13e23ee730c577016c21587}{\_GenerateMap}}();}
\DoxyCodeLine{\Hypertarget{_scene_main_8cpp_source_l00043}00043\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{\Hypertarget{_scene_main_8cpp_source_l00044}00044\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_scene_main_8cpp_source_l00045}00045\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_scene_main_8cpp_source_l00046}00046\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classmagica__rogue_1_1_m_r_menu_manager_a7a23ec3d7a85d807695ba9f1ca242c21}{MRMenuManager::Update}}())\ \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{_scene_main_8cpp_source_l00047}00047\ }
\DoxyCodeLine{\Hypertarget{_scene_main_8cpp_source_l00048}00048\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classmagica__rogue_1_1_m_r_scene_main_a066029a53341d4c451ac1b7a01686f3b}{m\_player}}.\mbox{\hyperlink{classmagica__rogue_1_1_m_r_player_a1af70849babd1f929acec7b34d4f2187}{Update}}();}
\DoxyCodeLine{\Hypertarget{_scene_main_8cpp_source_l00049}00049\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classmagica__rogue_1_1_m_r_scene_main_af654d63068901f45da13e52aefb81d9b}{m\_mapData}}.\mbox{\hyperlink{classmagica__rogue_1_1_m_r_map_data_a6ff861f7807afd8b32aa78d4c91a0424}{HitWithWall}}(\mbox{\hyperlink{classmagica__rogue_1_1_m_r_scene_main_a066029a53341d4c451ac1b7a01686f3b}{m\_player}}.\mbox{\hyperlink{classmagica__rogue_1_1_m_r_player_ab9039f3f911f7dfe1e0c054f459135f0}{GetTransform}}(),\ \mbox{\hyperlink{classmagica__rogue_1_1_m_r_scene_main_a066029a53341d4c451ac1b7a01686f3b}{m\_player}}.\mbox{\hyperlink{classmagica__rogue_1_1_m_r_player_ae6177c42e9015f69bf4be32c11fa5bd6}{GetSize}}(),\ \mbox{\hyperlink{classmagica__rogue_1_1_m_r_scene_main_a8ceffe79cff92aa44ba9efa1462b600d}{m\_eventQueue}});}
\DoxyCodeLine{\Hypertarget{_scene_main_8cpp_source_l00050}00050\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classmagica__rogue_1_1_m_r_scene_main_af654d63068901f45da13e52aefb81d9b}{m\_mapData}}.\mbox{\hyperlink{classmagica__rogue_1_1_m_r_map_data_adc98d6d0690724e2c6b02ad52deaf9f6}{Update}}(\mbox{\hyperlink{classmagica__rogue_1_1_m_r_scene_main_a066029a53341d4c451ac1b7a01686f3b}{m\_player}}.\mbox{\hyperlink{classmagica__rogue_1_1_m_r_player_ab9039f3f911f7dfe1e0c054f459135f0}{GetTransform}}());}
\DoxyCodeLine{\Hypertarget{_scene_main_8cpp_source_l00051}00051\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classmagica__rogue_1_1_m_r_scene_main_a066029a53341d4c451ac1b7a01686f3b}{m\_player}}.\mbox{\hyperlink{classmagica__rogue_1_1_m_r_player_a133ff95b055b679c5f38723a0455a3d9}{Move}}();}
\DoxyCodeLine{\Hypertarget{_scene_main_8cpp_source_l00052}00052\ }
\DoxyCodeLine{\Hypertarget{_scene_main_8cpp_source_l00053}00053\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_scene_main_8cpp_source_l00054}00054\ }
\DoxyCodeLine{\Hypertarget{_scene_main_8cpp_source_l00055}00055\ \textcolor{comment}{\ \ \ \ /**********************************************************************/}\textcolor{comment}{/***********************************************************************/}}
\DoxyCodeLine{\Hypertarget{_scene_main_8cpp_source_l00060}\mbox{\hyperlink{classmagica__rogue_1_1_m_r_scene_main_a2e3e295867e552620b9d750256ad79ec}{00060}}\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classmagica__rogue_1_1_m_r_scene_main_a2e3e295867e552620b9d750256ad79ec}{MRSceneMain::Render}}()}
\DoxyCodeLine{\Hypertarget{_scene_main_8cpp_source_l00061}00061\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_scene_main_8cpp_source_l00062}00062\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classmagica__rogue_1_1_m_r_scene_main_af654d63068901f45da13e52aefb81d9b}{m\_mapData}}.\mbox{\hyperlink{classmagica__rogue_1_1_m_r_map_data_a86373ee55328a0c15851632c17bb985a}{Render}}(\mbox{\hyperlink{classmagica__rogue_1_1_m_r_scene_main_aec5fcd7c4a27ef88cfca8912208ab6d7}{m\_camera}});}
\DoxyCodeLine{\Hypertarget{_scene_main_8cpp_source_l00063}00063\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classmagica__rogue_1_1_m_r_scene_main_af654d63068901f45da13e52aefb81d9b}{m\_mapData}}.\mbox{\hyperlink{classmagica__rogue_1_1_m_r_map_data_aec4b1e46891e149274f13a54059e8e96}{RenderMiniMap}}(\mbox{\hyperlink{classmagica__rogue_1_1_m_r_scene_main_a066029a53341d4c451ac1b7a01686f3b}{m\_player}}.\mbox{\hyperlink{classmagica__rogue_1_1_m_r_player_ab9039f3f911f7dfe1e0c054f459135f0}{GetTransform}}(),\ \mbox{\hyperlink{classmagica__rogue_1_1_m_r_scene_main_a5cadb945d845093c6f4974b2ad51531b}{m\_staticObjectManager}});}
\DoxyCodeLine{\Hypertarget{_scene_main_8cpp_source_l00064}00064\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classmagica__rogue_1_1_m_r_scene_main_a5cadb945d845093c6f4974b2ad51531b}{m\_staticObjectManager}}.\mbox{\hyperlink{classmagica__rogue_1_1_m_r_static_object_manager_abcbcfce54e9600d7b68a597ead88faa8}{Render}}(\mbox{\hyperlink{classmagica__rogue_1_1_m_r_scene_main_aec5fcd7c4a27ef88cfca8912208ab6d7}{m\_camera}});}
\DoxyCodeLine{\Hypertarget{_scene_main_8cpp_source_l00065}00065\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classmagica__rogue_1_1_m_r_scene_main_a066029a53341d4c451ac1b7a01686f3b}{m\_player}}.\mbox{\hyperlink{classmagica__rogue_1_1_m_r_player_a703b50d4ad2cf05bc07c5041bc97907b}{Render}}();}
\DoxyCodeLine{\Hypertarget{_scene_main_8cpp_source_l00066}00066\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classmagica__rogue_1_1_m_r_menu_manager_aac771fb0af4b03d46203a88256406a64}{MRMenuManager::Render}}();}
\DoxyCodeLine{\Hypertarget{_scene_main_8cpp_source_l00067}00067\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_scene_main_8cpp_source_l00068}00068\ }
\DoxyCodeLine{\Hypertarget{_scene_main_8cpp_source_l00069}00069\ \textcolor{comment}{\ \ \ \ /**********************************************************************/}\textcolor{comment}{/***********************************************************************/}}
\DoxyCodeLine{\Hypertarget{_scene_main_8cpp_source_l00074}\mbox{\hyperlink{classmagica__rogue_1_1_m_r_scene_main_a163000e8c13e23ee730c577016c21587}{00074}}\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classmagica__rogue_1_1_m_r_scene_main_a163000e8c13e23ee730c577016c21587}{MRSceneMain::\_GenerateMap}}()}
\DoxyCodeLine{\Hypertarget{_scene_main_8cpp_source_l00075}00075\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_scene_main_8cpp_source_l00076}00076\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classmagica__rogue_1_1_m_r_scene_main_a5cadb945d845093c6f4974b2ad51531b}{m\_staticObjectManager}}.\mbox{\hyperlink{classmagica__rogue_1_1_m_r_static_object_manager_a3e6d3e4ab7b45a0993eb0ed6f174bf16}{Reset}}();}
\DoxyCodeLine{\Hypertarget{_scene_main_8cpp_source_l00077}00077\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classmagica__rogue_1_1_m_r_scene_main_af654d63068901f45da13e52aefb81d9b}{m\_mapData}}.\mbox{\hyperlink{classmagica__rogue_1_1_m_r_map_data_ad59d6b6deb419fc34b7df33f900df14f}{Construct}}(min(64+(\mbox{\hyperlink{classmagica__rogue_1_1_m_r_scene_main_a7882f95e646d7a8339d0e3ffd8f5d0f0}{m\_floor}}/\ 2),\ 256),\ min(64\ +\ (\mbox{\hyperlink{classmagica__rogue_1_1_m_r_scene_main_a7882f95e646d7a8339d0e3ffd8f5d0f0}{m\_floor}}\ /\ 2),\ 256),\ \mbox{\hyperlink{classmagica__rogue_1_1_m_r_scene_main_a7882f95e646d7a8339d0e3ffd8f5d0f0}{m\_floor}},\ \mbox{\hyperlink{classmagica__rogue_1_1_m_r_scene_main_a5cadb945d845093c6f4974b2ad51531b}{m\_staticObjectManager}});}
\DoxyCodeLine{\Hypertarget{_scene_main_8cpp_source_l00078}00078\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classmagica__rogue_1_1_m_r_scene_main_a066029a53341d4c451ac1b7a01686f3b}{m\_player}}.\mbox{\hyperlink{classmagica__rogue_1_1_m_r_player_ab9039f3f911f7dfe1e0c054f459135f0}{GetTransform}}().\mbox{\hyperlink{classmagica__rogue_1_1_m_r_transform_ac3ce7af6031b6a4e2fd249c0c20f2663}{SetPosition}}(\mbox{\hyperlink{classmagica__rogue_1_1_m_r_scene_main_af654d63068901f45da13e52aefb81d9b}{m\_mapData}}.\mbox{\hyperlink{classmagica__rogue_1_1_m_r_map_data_a45e732c70b44c9b31b24f37aedca9f36}{GetStartX}}(),\ \mbox{\hyperlink{classmagica__rogue_1_1_m_r_scene_main_af654d63068901f45da13e52aefb81d9b}{m\_mapData}}.\mbox{\hyperlink{classmagica__rogue_1_1_m_r_map_data_a73182e274931d534f2d13d3f18901dcd}{GetStartY}}());}
\DoxyCodeLine{\Hypertarget{_scene_main_8cpp_source_l00079}00079\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_scene_main_8cpp_source_l00080}00080\ \}}

\end{DoxyCode}
